<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Polychromatic Coloring of Tuples in Hypergraphs</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="script.js" defer></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
  </head>
  <body>
    <nav class="nav">
      <ul>
        <li><a href="#abstract">Abstract</a></li>
        <li><a href="#intro">Introduction</a></li>
        <li><a href="#prelimin">Preliminaries</a></li>
        <li><a href="#demo1">The \(3.7^{k}\) Threshold</a></li>
        <li><a href="#demo2">The \(\sqrt{c\,k \ln k}\) Threshold</a></li>
        <li><a href="#biblio">Bibliography</a></li>
      </ul>
    </nav>
    <main>
      <header>
        <h1>Polychromatic Coloring of Tuples in Hypergraphs</h1>
      </header>
      <div class="meta">
        <p><strong>Author:</strong> Oleksandr Barkov</p>
        <p><strong>Year:</strong> 2025</p>
      </div>

      <section id="abstract" class="sec-1">
        <h2>Abstract</h2>
        <p>
          In mathematics, a <strong>hypergraph</strong> is a generalization of a
          graph in which an edge can join any number of vertices. In contrast,
          in an ordinary graph, an edge connects exactly two vertices.<a
            href="#ref1"
            class="ref"
            >[1]</a
          ><br />
          A <strong>tuple</strong> is a subset of vertices of such graph.<br />
          A <strong>hyperedge</strong> is a single connection that can join any
          number of vertices at once, for example, all vertices of a
          \(t-tuple\), unlike a usual edge which joins only 2.<br />
          A <strong>coloring</strong> is a mapping of \(t\) tuples into
          \(k\) colors (assigning particular color to a tuple of vertices).
          A coloring is called \((t,k,f)-polychromatic\) if each hyperedge
          that has at least f vertices, contains tuples of all the \(k\) colors.<br />
          \(f_{\mathcal{H}}(2,k)\) is the smallest number of vertices
          \(f\) such that we can color all \(t-tuples\) of a
          hypergraph \(H\) with \(k\) colors.<br />
          In this piece we focus on the case of \(2-tuples\) (pairs), i.e.
          \(t=2\).
        </p>
        <section class="overview-figure"> 
          <figure class="center-figure">
            <img
              src="/imgs/hyperedge_illustration.png"
              alt="Hyperedge illustration"
            />
            <figcaption>Figure 1. Hyperedge illustration.</figcaption>
          </figure>
        </section>
      </section>

      <section id="intro" class="sec-2">
        <h2>Introduction</h2>
        <p>
          First, we briefly recall the notion of
          <strong>cover-decomposition</strong>. Suppose we have many geometric
          shapes (disks, squares, polygons) that together cover every point of
          some region, and in fact every point is covered several times. A
          family of shapes is called <em>cover-decomposable</em> if, whenever
          the covering is thick enough, we can split the shapes into a few
          groups (typically 2) so that each group still covers every point. In
          the \(2-color\) case, this means we can color each shape red or blue,
          without moving or cutting any shape, in such a way that every point is
          covered by at least one red shape and at least one blue shape.
        </p>
        <p>
          <strong>Polychromatic coloring</strong> and
          <strong>cover-decomposition</strong> are interwined concepts in
          hypergraph theory with a rich history. The core idea is to color
          vertices so that every sufficiently large hyperedge is
          <em>polychromatic</em> - meaning it contains points of all the
          different colors. These problems have been studied since 1980s
          [39,40,42,43] and remain a lively area of research today
          [1,2,14,16,18,46].
        </p>
        <p>
          A key question that sparked much of this study was posed by Pach in
          1980 [39]. He asked whether there is a universal constant
          \(f\) such that any finite set of points in the plane can be
          colored with 2 colors in a way that every unit disk containing at
          least \(f\) of these points will have points of both colors. In
          other words, can we avoid a one-color <em>monochromatic</em> disk no
          matter how we 2-color the plane, provided the disk covers sufficiently
          many points. In 2016 Pach and Pálvölgyi [44] proved that the answer is
          no - for any number \(f \in \mathbb{N}\), there's a finite set of points
          \(P\) in the plane such that for any 2-coloring of \(P\),
          one can find a unit disk containing at least \(f\) points of one
          color only. Their result showed that unit disks in the plane are not
          <em>cover-decomposable</em> under 2-colorings.
        </p>
        <p>
          Naturally, researchers considered similar questions for other shapes
          and for more than 2 colors. For instance, if the region is a convex
          polygon instead of a disk, the outcome is positive. Pálvölgyi and Tóth
          [45] showed that convex polygons are cover-decomposable. Subsequent
          work even improved the bounds, showing that one can choose
          \(f(k)\) on the order of \(k\) [8,26].
        </p>
        <p>
          The difficulty with disks and other non-cover-decomposable cases
          naturally leads to a question: if coloring single vertices doesn't
          work, could we color larger groups of vertices instead? This idea
          gives rise to <strong>tuple coloring</strong>, a generalization of the
          problem. Instead of assigning colors to individual points, we assign
          colors to every ordered tuple of \(t\) points.
        </p>
      </section>

      <section id="prelimin" class="sec-3">
        <h2>Preliminaries</h2>
        <p>First we explain defintions required to proceed.</p>
        <p>
          <strong>Shrinkability</strong> is a hypergraph property when any
          hyperedge \(e\) can be shrinked to a sub-edge \(e'\) of any
          desired size(up to the size of the initial hyperedge) and that
          sub-edge is still an edge of the hypergraph.
        </p>
        <p>
          The <strong>VC-dimension</strong> of a hypergraph is a measure of its
          complexity. A set of points \(X\) is said to be
          <strong>shattered</strong> in a hypergraph \(H\) if, by intersecting edges
          with \(X\) we can realize every possible pattern of which points
          of \(X\) are inside and which are outside, in other words 
          <em>shatter</em> the points. <strong>VC-dimension</strong> of a hypergraph 
          is the size of the largest <em>shattered</em> set.
          <section class="overview-figure">
            <figure class="center-figure">
              <img
                src="/imgs/points_shattering.png"
                alt="Points shattering"
              />
              <figcaption>Figure 2. Points shattering.</figcaption>
            </figure>
          </section>
        </p>
        <p>
          <strong>Depth</strong> of a tuple \(d_H(S)\), \(S \subseteq V\)</em> 
          is the minimum number of other vertices included inside the disk, 
          formed by \(S\), in other words how many other points the disk containing 
          the tuple is forced to include. No matter which hyperedge we pick that 
          contains this tuple, we are forced to take \(d_H(S)\) other vertices
          along with it.
        </p>
        <p>
          \(\boldsymbol{\varepsilon\text{-}t\textbf{-Net}}\) is a subset of \(t-tuples\) of \(V\) if 
          any hyperedge in \(E\) (whose size is up to \(|V|)\) contains at least one 
          of the chosen \(t-tuples\).
        </p>
      </section>

      <section id="demo1" class="demo">
        <h2>Polychromatic Pairs in Disks — the \(3.7^{k}\) Threshold</h2>
        <p>We start by presenting upper bounds on \(f(t,k)\) for hypergraphs. It is intersecting
          because for abstract hypergraphs, \(f(t,k)\) is <u>unbounded</u> even if the hypergraph is 
          uniform(all hyperedges have the same size) and \(k\) (number of colors) is 2. This is due to
          Ramsey theorem [35]: given a tuple size \(t\) and colors \(k\), for every way to color
          all \(t-tuples\) with \(k\) colors, we can always find a subset of \(m\) vertices
          whose every \(t-tuple\) has the same color.
        </p>
        <p>
          By [44] \(f(2,k)\) with \(t=1\) is unbounded for hypergraphs that are defined by points 
          and disks. However, this is not the case for \(t=2\).
        </p>
        <p>
          <div class="theorem">
            <div class="theorem-title">Theorem 1.5.</div>
              <div class="theorem-body">
                Let \(\mathcal{H}\) be the family that contains any hypergraph \(H\) that can be obtained
                by taking a finite set \(P\) of points in \(\mathbb{R}^2\) in general position, setting
                \(V(H) := P\) and
                \(E(H) := \{ d \cap P : d \text{ is a disk in } \mathbb{R}^2 \}\).
                Then, for any natural number \(k\), it holds that
                \(f_{\mathcal{H}}(2,k) \le 3.7^{k}\).
              </div>
            </div>
        </p>
        <p>
          In other words, for any finite set \(P\) of points in the plane, the
          \(\binom{|P|}{2}\) pairs of points can be \(k\)-colored such that any disk 
          containing at least \(3.7^{k}\) points must also contain a pair of points 
          from each of the \(k\) color classes. 
        </p>
        <p>
          In the next demo we illustrate the \(f_{\mathcal{H}}(2,k) \le 3.7^{k}\) bound using 
          a random point set in the plane. We first generate a cloud of random points and rescale them 
          to fit nicely in the viewport. Then we draw a disk that one can move and resize. At any moment
          we look only at the points currently inside the disk. For every pair of points inside, we compute 
          its <strong>depth</strong>: we look at all circles that go through the pair (one defined by the 
          pair as a diameter, and the circumcircles obtained by adding each possible third point) and take the 
          circle with the least amount of points inside. The <strong>depth</strong> is the number of 
          <em>other</em> points that this circle is forced to include. Deeper pairs (i.e. pairs surrounded by 
          many other pairs) get higher colors in the list. Concretely, we bucket the depth into ranges that grow
          like powers of \(3.7\): roughly speaking, color 1 is shallow pairs, color 2 is pairs with depth between
          \(3.7\) and \(3.7^{2}\), and so on up to \(k\) colors.
        </p>
        <p>
          <div class="demo-card">
            <div class="demo-frame-wrapper">
              <iframe
                src="https://lexphx.github.io/polychromatic_coloring_of_tuples_in_hypergraphs/"
                title="Polychromatic disks demo"
                loading="lazy"
                style="width: 100%; height: 100%; border: 0; display: block;"
              ></iframe>
            </div>
            <div class="demo-btn-wrapper">
              <button
                  class="demo-open-btn"
                  onclick="window.open('https://lexphx.github.io/polychromatic_coloring_of_tuples_in_hypergraphs/', '_blank')"
                >
                  Open full version
                </button>
              </div>
          </div>
        </p>
        <p>
          The interface lets you choose the number of colors \(k \in \{3,4,5\}\) and the total number of points
          (up to 200). At each frame, the app only draws edges between points that lie entirely inside the disk
          and colors them according to their depth bucket. An informative leged in the top-left corner shows which colors
          actually appear inside the current disk; as soon as all \(k\) colors are present, the app labels the 
          disk as <strong>polychromatic</strong> - visually echoing the theoretical statement that once a disk 
          contains enough points (on the order of \(3.7^{k}\)), it must contain edges of all colors. For small \(k\)
          and moderate point counts this is easy to see. However, for larger \(k\), the required depths blow up since
          \(3.7^{k}\) grows fast, the deep colors become rare and the computation gets heavy enough that the browser
          start to lag.
        </p>
        
      </section>

      <section id="demo2" class="demo">
        <h2>Polychromatic Pairs in Rectangles and Disks — the \(\sqrt{c k \ln k}\) Threshold</h2>
        <p>
          For points and axis-parallel rectangles in the plane, we know from [21] that \(f(t,2)\) is 
          unbounded when \(t=1\). However for \(t=2\) a result of [1] implies that \(f(2,k) \le k^{2}+1\).
          We study the same problem but for grid points. 
        </p>
        <p>
          <div class="theorem">
            <div class="theorem-title">Theorem 1.7.</div>
              <div class="theorem-body">
                Let \(\mathcal{H}\) be the family of all hypergraphs \(H\) that can be obtained by taking
                the vertex set \(P\) of a regular grid in \(\mathbb{R}^2\), setting \(V(H) := P\) and
                \(E(H) := \{\, r \cap P : r \text{ is an axis-parallel rectangle in } \mathbb{R}^2 \,\}\).
                Then for any natural number \(k \ge 2\) it holds that \(f_{\mathcal{H}}(2, k) \le \sqrt{c\,k \ln k}\),
                for some constant \(c \ge 126\).
              </div>
            </div>
          </p>
          <p>
            In other words, for grid points inside an axis-parallel rectangle, there is a contant \(c\) such that,  
            any rectangle contains at least \(\sqrt{c\,k \ln k}\) points is guaranteed to contain all \(k\) 
            colors among its pairs.
          </p>
          <p>
            <div class="demo-card">
              <div class="demo-frame-wrapper">
                <iframe
                  src="https://lexphx.github.io/cklnk_rect_bound/"
                  title="Polychromatic rectangles demo"
                  loading="lazy"
                  style="width: 100%; height: 100%; border: 0; display: block;"
                ></iframe>
              </div>
              <div class="demo-btn-wrapper">
                <button
                    class="demo-open-btn"
                    onclick="window.open('https://lexphx.github.io/cklnk_rect_bound/', '_blank')"
                  >
                    Open full version
                  </button>
                </div>
            </div>
          </p>
          <p>
            We start by placing \( n \times n \) grid of points and color each point independently 
            with one of the \(k\) colors (you can choose \(3 \le k \le 5\) and up to 200 points). 
            To explore the theorem, you draw an axis-parallel rectangle by clicking and dragging. 
            As soon as you release the mouse, we look only at the grid points inside your rectangle.
          </p>
          <p>
            Inside that rectangle we count, for each color, how many points of that color are inside.  
            Let \(M\) be the largest of these counts \(-\) this is the size of the most frequent color 
            class in your rectangle. We highlight those \(M\) points and show three numbers in the legend:
          </p>
          
          <ul>
            <li>\(M\) \(-\) the largest number of points of a single color inside your rectangle;</li>
            <li>\(\sqrt{k \ln k}\) \(-\) the theoretical scale from Theorem 1.7, which says that
                \(f_{\mathcal H}(2,k) \le \sqrt{c\,k\ln k}\) for some constant \(c \ge 126\);</li>
            <li>\(\hat c\) \(-\) an experimental estimate of the constant, computed as
                \(\hat c = \dfrac{M^2}{k \ln k}\).  
                This comes from rearranging the formula \(M \approx \sqrt{c\,k\ln k}\).</li>
          </ul>
          
          <p>
            Note that once you fix \(k\), the value \(k \ln k\) is constant, so changing the 
            rectangle only affects \(M\) and therefore the observed \(\hat c\). 
          </p>
          <p>
            The goal of the visualization is to give an intuition that the largest monochromatic 
            cluster inside a rectangle grows on the order of \(\sqrt{k \ln k}\), up to the constant \(c\).
          </p>
          <p>
            In the next demo we switch from axis-parallel rectangles to disks and to coloring the <em>points</em> 
            themselves rather than pairs. Instead of asking when a range becomes fully polychromatic, we now ask 
            the opposite question: how big can a <em>monochromatic</em> unit disk be? For a random coloring of 
            the points with \(k\) colors, the app searches for the unit disk that captures the largest number \(M\)
            of points of a single color and compares this to the theoretical scale \(\sqrt{k \ln k}\). In this way, 
            the rectangle demo and the disk demo give two complement views on how color classes can cluster inside
            geometric ranges.
          </p>
          <p>
            <div class="demo-card">
              <div class="demo-frame-wrapper">
                <iframe
                  src="https://lexphx.github.io/Polychromatic-coloring-of-tuples-in-hypergraphs-2/"
                  title="Polychromatic rectangles demo"
                  loading="lazy"
                  style="width: 100%; height: 100%; border: 0; display: block;"
                ></iframe>
              </div>
              <div class="demo-btn-wrapper">
                <button
                    class="demo-open-btn"
                    onclick="window.open('https://lexphx.github.io/Polychromatic-coloring-of-tuples-in-hypergraphs-2/', '_blank')"
                  >
                    Open full version
                  </button>
                </div>
            </div>
          </p>
          <p>
            The radius of the disk is fixed, only its center and color change. At startup (and whenever we change 
            the number of points or colors), we look for the "worst" monochromatic unit disk: a disk of radius 1
            that contains as many points of a single color as possible. This "worst" in the sense that it most
            strongly concentrates one color and comes closest to violating the expected bound on how large such a
            monochromatic cluster should be. 
          </p>
          <p>
            We proceed as follows. First, we split all points into buckets by color, one bucket for each of \(k\)
            colors. For each bucket we search over many possible disk centers and find the maximum number \(M\) 
            of points of that color that can fit inside one unit disk. This gives us an \(M\) for each color. We then
            pick a color whose \(M\) is largest - this is the color with the "worst" unit disk. In the demo, we draw 
            that disk, color with the dominant color, highlight the points it contains, and report the values of \(M\),
            \(\sqrt{k \ln k}\), and the empirical constant \(\hat c = \dfrac{M^2}{k \ln k}\) in the legend.
          </p>
          <p>
            The demo also has an interactive element: the user click anywhere in the viewport to move the center
            of the unit disk to that point. For this chosen center, we look at all points currently inside the disk, 
            find which color occurs most often (the "heaviest" color), and show its count \(M\). The disk is then drawn 
            in that color and the points of that color inside the disk are highlighted. This allows to visually inspect
            how large monochromatic clusters look in practice.
          </p>
      </section>

      <section id="biblio" class="sec-5">
        <h2>Bibliography</h2>
        <ul>
          <li id="ref1">
            <a href="https://en.wikipedia.org/wiki/Hypergraph">Hypergraph</a>
          </li>
        </ul>
      </section>
    </main>
  </body>
</html>
